{"version":3,"file":"main.80a018fb.js","sources":["../../src/frontend/main.ts"],"sourcesContent":["// import 'vite/dynamic-import-polyfill'; // for prod mode\nimport './_framework/css/index.css';\n// import { createSearch } from './components/molecules/search/search.molecule';\n\nconst url = `https://bahn-test-3687838850c6.herokuapp.com/`;\nconst prefix = process.env.NODE_ENV === 'production' ? '/driver-dashboard' : '';\n\nconst options = {\n//   method: 'GET',\n//   headers: {\n//     'DB-Client-Id': env.VITE_DB_CLIENT_ID, // Replace with your actual client ID\n//     'DB-Api-Key': env.VITE_DB_SECRET, // Replace with your actual client secret\n//     'Accept': 'application/xml'\n//   }\n};\n\nfetch(url, options)\n      .then(response => {\n\n        console.log(response)\n        // if (!response.ok) {\n        //   throw new Error(`HTTP error! status: ${response.status}`);\n        // }\n        return response.text(); // Or use response.json() if the response is JSON\n      })\n      .then(body => {\n        // console.log(body);\n        let json;\n        try {\n            json = JSON.parse(body);\n            const result = document.querySelector('#result');\n            const line = document.querySelector('#line');\n            if(result && json && line){\n\n                line.innerHTML = `${json.busLine} - ${json.route}`;\n                let rows = '';\n                for(const item of json.stations) {\n                    rows += `<tr>\n                    <td>\n                        <img class=\"center\" src=\"${prefix}/assets/haltestelle.svg\" alt=\"haltestelle\" width=\"20\" height=\"20\">\n                        </td>\n                    <td>${item.estimatedArrival}</td>\n                    <td>${item.stationName}</td>\n                    <td>\n                    \n                    <img src=\"${prefix}/assets/elderly.svg\" alt=\"elderly\" width=\"20\" height=\"20\">\n                    ${item.checkedPassengers.elderly}\n                    <img src=\"${prefix}/assets/people.svg\" alt=\"people\" width=\"20\" height=\"20\">\n                    ${item.checkedPassengers.normal}\n                    <img src=\"/assets/${prefix}/assets/wheelchair.svg\" alt=\"wheelchair\" width=\"20\" height=\"20\">\n                    <i class=\"bi bi-person-wheelchair\"></i>\n                    ${item.checkedPassengers.wheelchair}\n                    </td>\n                    </tr>`;\n                }\n                console.log(json);\n                result.innerHTML = `\n                <table class=\"table table--timetable\">\n                <tbody>\n                ${rows}\n                </tbody>\n                </tabl>\n                \n                `;\n            }\n        } catch (error) {\n            console.error('Error:', error);\n        }\n\n      })\n      .catch(error => {\n        console.error('Error:', error);\n      });"],"names":["url","prefix","options","response","body","json","result","line","rows","item","error"],"mappings":"AAIA,MAAMA,EAAM,gDACNC,EAAiD,oBAEjDC,EAAU,CAAA,EAShB,MAAMF,EAAKE,CAAO,EACX,KAAiBC,IAEhB,QAAQ,IAAIA,CAAQ,EAIbA,EAAS,OACjB,EACA,KAAaC,GAAA,CAER,IAAAC,EACA,GAAA,CACOA,EAAA,KAAK,MAAMD,CAAI,EAChB,MAAAE,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAO,SAAS,cAAc,OAAO,EACxC,GAAAD,GAAUD,GAAQE,EAAK,CAEtBA,EAAK,UAAY,GAAGF,EAAK,aAAaA,EAAK,QAC3C,IAAIG,EAAO,GACD,UAAAC,KAAQJ,EAAK,SACXG,GAAA;AAAA;AAAA,mDAEuBP;AAAA;AAAA,0BAEzBQ,EAAK;AAAA,0BACLA,EAAK;AAAA;AAAA;AAAA,gCAGCR;AAAA,sBACVQ,EAAK,kBAAkB;AAAA,gCACbR;AAAA,sBACVQ,EAAK,kBAAkB;AAAA,wCACLR;AAAA;AAAA,sBAElBQ,EAAK,kBAAkB;AAAA;AAAA,2BAI7B,QAAQ,IAAIJ,CAAI,EAChBC,EAAO,UAAY;AAAA;AAAA;AAAA,kBAGjBE;AAAA;AAAA;AAAA;AAAA,iBAKN,QACKE,GACG,QAAA,MAAM,SAAUA,CAAK,CACjC,CAEF,CAAC,EACA,MAAeA,GAAA,CACN,QAAA,MAAM,SAAUA,CAAK,CAC/B,CAAC"}